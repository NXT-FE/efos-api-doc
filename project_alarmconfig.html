<!DOCTYPE html>
<html>
<head>
  <meta charSet='utf-8' />
  <title>EFOS-API DOC - 告警条件配置</title>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700' rel='stylesheet' type='text/css'>
  <link href='/efos-api-doc/css/docs.css' rel='stylesheet'>
</head>
<body>
  <div class='menu'>
    <div class='logo'>
      EFOS WebAPI 
    </div>
    <nav class='menu-nav'>
      
        <ul class='nav'>
          <span>简介</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/intro.html'>简介</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>初始化接口</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/project_auth.html'>项目权限</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_alarmtype.html'>项目下所有告警类型</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_devicetype.html'>项目下所有设备类型</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_device.html'>项目下所有设备</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_deviceparams.html'>项目下所有设备参数</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_navparams.html'>项目房间(导航)与环境监测设备</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_device_datacode.html'>设备采集参数</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/project_alarmconfig.html' class='active'>告警条件配置</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>实时/历史数据</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/state_alldev_realdata.html'>某项目所有设备当前实时数据</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/state_dev_realdata.html'>某项目某设备当前实时数据</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/state_alldev_historydata.html'>某项目某一时刻所有设备历史数据</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/state_dev_historydata.html'>某项目某一时刻某设备历史数据</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/state_dev_day_hourdata.html'>某项目某日某设备逐时数据</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/state_alldev_datespan_historydata.html'>某项目某时间段所有设备历史数据</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>能耗数据(暂未开放)</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/energy_alldev_daydata.html'>某项目所有设备某日能耗</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/energy_dev_hourdata.html'>某项目某设备某日逐时能耗</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>告警数据</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/alarm_dataspan_data.html'>某项目当前设定周期内最新告警</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/alarm_day_historydata.html'>某日某项目某设备所有历史告警</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/alarm_day_alldev_historydata.html'>某日某项目所有历史告警</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>其它</span>
          <ul class='nav'>
            
              <li>
                <a href='/efos-api-doc/other_returncode.html'>全局返回一览表</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/other_ps.html'>附录</a>
              </li>
            
              <li>
                <a href='/efos-api-doc/efos_h5_page.html'>EFOS H5接口说明</a>
              </li>
            
          </ul>
        </ul>
      
    </nav>
   
  </div>
  <div class='page'>
    <div class='page-content'>
      <h1>告警条件配置</h1>
      <h3 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h3><h4 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h4><blockquote>
<p><a href="http://webapi.eegrid.com/alarmconfig/get?accessToken=ACCESSTOKEN" target="_blank" rel="external">http://webapi.eegrid.com/alarmconfig/get?accessToken=ACCESSTOKEN</a></p>
</blockquote>
<h4 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h4><blockquote>
<p>POST</p>
</blockquote>
<h4 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h4><blockquote>
<p>application/x-www-form-urlencoded</p>
</blockquote>
<h3 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h3><table>
<thead>
<tr>
<th>参数名称</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">类型</th>
<th style="text-align:right">是否必须</th>
</tr>
</thead>
<tbody>
<tr>
<td>ProjectCode</td>
<td style="text-align:center">项目编号</td>
<td style="text-align:center">String</td>
<td style="text-align:right">是</td>
</tr>
</tbody>
</table>
<h3 id="返回参数"><a href="#返回参数" class="headerlink" title="返回参数"></a>返回参数</h3><table>
<thead>
<tr>
<th>参数名称</th>
<th style="text-align:center">说明</th>
<th style="text-align:right">类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>DeviceID</td>
<td style="text-align:center">设备编号</td>
<td style="text-align:right">String</td>
</tr>
<tr>
<td>DeviceName</td>
<td style="text-align:center">设备名称</td>
<td style="text-align:right">String</td>
</tr>
<tr>
<td>DataCode</td>
<td style="text-align:center">数据标识编号</td>
<td style="text-align:right">String</td>
</tr>
<tr>
<td>DataName</td>
<td style="text-align:center">数据标识名称</td>
<td style="text-align:right">String</td>
</tr>
<tr>
<td>Expression</td>
<td style="text-align:center">表达式</td>
<td style="text-align:right">String</td>
</tr>
<tr>
<td>AlarmLevel</td>
<td style="text-align:center">告警级别(共3个级别，1:事件;2:一般告警;3:严重告警)</td>
<td style="text-align:right">String</td>
</tr>
</tbody>
</table>
<h4 id="Expression-高级示例"><a href="#Expression-高级示例" class="headerlink" title="Expression 高级示例"></a>Expression 高级示例</h4><ul>
<li>或，<strong>43_1==0||43_2==1</strong> 可以译为 <blockquote>
<p>[地下车库<em>入口道闸].[运行状态]==0 或者 [地下车库</em>入口道闸].[故障状态]==1</p>
</blockquote>
</li>
<li>与，<strong>14_14&lt;0.95&amp;&amp;14_1==1</strong>可以译为<blockquote>
<p>[低压配电室<em>电容].[功率因数]&lt;0.95 并且 [低压配电室</em>电容].[运行状态]==1</p>
</blockquote>
</li>
</ul>
<h3 id="成功返回JSON示例"><a href="#成功返回JSON示例" class="headerlink" title="成功返回JSON示例"></a>成功返回JSON示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;state&quot;：0,</div><div class="line">    &quot;ProjectCode&quot;:&quot;1&quot;,</div><div class="line">    &quot;data&quot;: [</div><div class="line">       &#123;</div><div class="line">            &quot;DeviceID&quot;: 1,</div><div class="line">            &quot;DeviceName&quot;: &quot;1#进线1&quot;,</div><div class="line">            &quot;DataCode&quot;: 1,</div><div class="line">            &quot;DataName&quot;: &quot;运行状态&quot;,</div><div class="line">            &quot;Expression&quot;: &quot;1_1==0&quot;,  </div><div class="line">            &quot;AlarmLevel&quot;: &quot;1&quot;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            &quot;DeviceID&quot;: 1,</div><div class="line">            &quot;DeviceName&quot;: &quot;1#进线1&quot;,</div><div class="line">            &quot;DataCode&quot;: 46,</div><div class="line">            &quot;DataName&quot;: &quot;C相电压&quot;,</div><div class="line">            &quot;Expression&quot;: &quot;1_46&gt;418&quot;,</div><div class="line">            &quot;AlarmLevel&quot;: &quot;2&quot;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            &quot;DeviceID&quot;: 43,</div><div class="line">            &quot;DeviceName&quot;: &quot;入口道闸&quot;,</div><div class="line">            &quot;DataCode&quot;: 1,</div><div class="line">            &quot;DataName&quot;: &quot;运行状态&quot;,</div><div class="line">            &quot;Expression&quot;: &quot;43_1==0||43_2==1&quot;,</div><div class="line">            &quot;AlarmLevel&quot;: &quot;3&quot;</div><div class="line">        &#125;,</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="失败返回JSON示例"><a href="#失败返回JSON示例" class="headerlink" title="失败返回JSON示例"></a>失败返回JSON示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;State&quot;: -1,</div><div class="line">    &quot;ErrorMessage&quot;: &quot;此处显示失败信息&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

    </div>
  </div>
  <div class='switch-page'>
    
      <a class='previous' href='/efos-api-doc/project_device_datacode.html'>上一节</a>
    

    <a class='footer' href='http://www.eegrid.com'>
      深圳市能效通网络有限公司
    </a>

    
      <a class='next' href='/efos-api-doc/state_alldev_realdata.html'>下一节</a>
    
  </div>
</body>
</html>
